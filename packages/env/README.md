# Environment Package

This package manages environment variable validation and type-safety using `@t3-oss/env-nextjs` and `zod`.
It ensures that the application fails fast if required environment variables are missing or invalid.

## Architecture

We use a "schema-first" approach:
1.  **Define:** Schemas are defined in `src/{app}.ts`.
2.  **Validate:** Validation happens at build time (for client vars) and runtime (for server vars).
3.  **Consume:** Apps import the safe `env` object.

## Fallback Logic

For `NEXT_PUBLIC_SITE_URL`, we implement a fallback strategy to support Vercel Preview deployments automatically:
1.  `NEXT_PUBLIC_SITE_URL` (Explicit override)
2.  `VERCEL_URL` (Auto-generated by Vercel) -> transformed to `https://${VERCEL_URL}`
3.  `localhost` (Local development default)

## Usage

Import the environment object specific to your app:

```ts
import { webEnv } from '@repo/env/web';
import { adminEnv } from '@repo/env/admin';

// Type-safe access
console.log(webEnv.NEXT_PUBLIC_SITE_URL);
```
